---
import Icon from './Icon.astro';

const axes = [
  {
    title: "Biologique",
    iconName: "heart",
    content: "Nous accompagnons le jeune dans ses démarches médicales (médecin généraliste, dentiste), la gestion de sa nutrition et la mise en place d'activités sportives adaptées."
  },
  {
    title: "Psychologique",
    iconName: "brain",
    content: "Soutien dans la mise en place d'un suivi thérapeutique individuel ou familial. Orientation vers des professionnels compétents et présence aux séances si nécessaire."
  },
  {
    title: "Social",
    iconName: "users",
    content: "Soutien sur le savoir-faire et le savoir-être dans les interactions avec la famille et les pairs. Accompagnement dans la recherche identitaire liée à l'adolescence."
  },
  {
    title: "Professionnel",
    iconName: "briefcase",
    content: "Aide à la rédaction de CV, lettres de motivation, recherche de stages ou d'apprentissage grâce à notre réseau socio-économique genevois. Appui scolaire inclus."
  },
  {
    title: "Administratif",
    iconName: "file-text",
    content: "Gestion du courrier (Tribunaux, Hospice, SPMI, Assurances) et préparation du passage vers la majorité ou l'autonomie financière et légale."
  }
];
---

<section class="axes">
  <div class="container">
    <div class="axes__header reveal">
      <div class="label">Accompagnement</div>
      <h2>Nos 5 axes d'intervention<span>.</span></h2>
    </div>

    <div class="axes__grid mt-80">
      {axes.map((axis, index) => (
        <div class="axis-card reveal">
          <div class="axis-card__number">0{index + 1}</div>
          <div class="axis-card__content-wrapper">
            <div class="axis-card__header mb-24">
              <div class="axis-card__icon">
                {/* @ts-ignore */}
                <Icon name={axis.iconName} size="28" />
              </div>
              <h3 style="margin-bottom: 0;">{axis.title}</h3>
            </div>
            <p class="axis-desc">{axis.content}</p>
          </div>
          <div class="axis-card__decoration"></div>
        </div>
      ))}
    </div>
  </div>
</section>

<style lang="scss">
  .axes {
    background: var(--color-primary);
    padding: var(--section-spacing) 0;

    &__header {
      text-align: center;
      max-width: 700px;
      margin: 0 auto;

      .label {
        display: inline-block;
        font-size: 12px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: var(--color-accent);
        margin-bottom: 24px;
        padding: 6px 16px;
        border: 1px solid var(--color-accent);
        border-radius: 100px;
        background: rgba(255, 223, 92, 0.1);
      }

      h2 {
        color: var(--color-white);
        font-size: clamp(32px, 5vw, 56px);
        
        span {
          color: var(--color-accent);
        }
      }
    }

    &__grid {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 24px;

      @media (max-width: 1024px) {
        grid-template-columns: repeat(2, 1fr);
      }
      @media (max-width: 768px) {
        grid-template-columns: 1fr;
      }
    }

    .axis-card {
      grid-column: span 2;
      position: relative;
      padding: 40px 32px;
      background: rgba(255, 255, 255, 0.02);
      border-radius: 24px;
      display: flex;
      flex-direction: column;
      border: 1px solid rgba(255, 255, 255, 0.05);
      transition: all 0.4s var(--ease-out);
      overflow: hidden;

      // Center the last 2 items if they are on a new row in a 3-column grid layout logic
      &:nth-last-child(2):nth-child(4),
      &:nth-last-child(1):nth-child(5) {
        @media (min-width: 1025px) {
          grid-column: span 3;
          
          .axis-card__content-wrapper {
            max-width: 400px;
            margin: 0 auto;
            text-align: center;
          }

          .axis-card__header {
            justify-content: center;
          }
        }
      }

      &:hover {
        transform: translateY(-8px);
        background: rgba(255, 255, 255, 0.04);
        border-color: var(--color-accent);
        box-shadow: 0 20px 40px rgba(0,0,0,0.2);

        .axis-card__number {
          color: var(--color-accent);
          opacity: 0.2;
          transform: scale(1.1);
        }

        .axis-card__icon {
          background: var(--color-accent);
          color: var(--color-primary);
          transform: scale(1.1) rotate(-5deg);
        }

        .axis-card__decoration {
          opacity: 1;
          transform: scaleX(1);
        }
      }

      &__number {
        position: absolute;
        top: 20px;
        right: 30px;
        font-family: var(--font-headline);
        font-size: 64px;
        font-weight: 700;
        color: var(--color-white);
        opacity: 0.05;
        line-height: 1;
        transition: all 0.4s ease;
      }

      &__header {
        display: flex;
        align-items: center;
        gap: 20px;
        position: relative;
        z-index: 1;
      }

      &__icon {
        width: 60px;
        height: 60px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--color-accent);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        border: 1px solid rgba(255, 255, 255, 0.05);
      }

      h3 {
        font-size: 22px;
        margin-bottom: 0;
        color: var(--color-white);
      }

      .axis-desc {
        color: rgba(255, 255, 255, 0.6);
        font-size: 16px;
        line-height: 1.6;
        margin: 0;
        position: relative;
        z-index: 1;
      }

      &__decoration {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 2px;
        background: var(--color-accent);
        opacity: 0;
        transform: scaleX(0);
        transform-origin: left;
        transition: all 0.4s ease;
      }
    }
  }
</style>
