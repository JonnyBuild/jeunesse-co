---
import { Image } from 'astro:assets';
import teamImage from '../assets/image2.webp';

const team = [
  {
    name: "Hacene Debbah",
    role: "Directeur Général & Fondateur",
    initials: "HD"
  },
  {
    name: "Léonard Férati",
    role: "Directeur Co-Fondateur",
    initials: "LF"
  },
  {
    name: "Olivier Beroud",
    role: "Directeur Co-Fondateur",
    initials: "OB"
  },
  {
    name: "Anthony Roulet",
    role: "Directeur Co-Fondateur",
    initials: "AR"
  }
];
---

<section id="team" class="team">
  <div class="container">
    <div class="team__header reveal">
      <div class="label">L'équipe</div>
      <h2>La direction<span>.</span></h2>
    </div>

    <div class="team__layout mt-80">
      <!-- Photo de bureau -->
      <div class="team__image reveal">
        <div class="team__image-wrapper">
          <Image 
            src={teamImage} 
            alt="Notre équipe au bureau" 
            class="img-cover" 
            width={800} 
            height={900} 
            loading="lazy" 
          />
          <div class="team__image-overlay"></div>
          <div class="team__image-quote">
            <blockquote class="serif">
              "Unis par une même passion : l'accompagnement des jeunes vers leur réussite."
            </blockquote>
          </div>
        </div>
      </div>

      <!-- Liste des membres -->
      <div class="team__list">
        {team.map((member, index) => (
          <article class="team__member reveal" style={`--delay: ${index * 0.1}s`}>
            <div class="team__member-dot"></div>
            <div class="team__member-content">
              <h3>{member.name}</h3>
              <span class="team__member-role">{member.role}</span>
            </div>
          </article>
        ))}

        <div class="team__cta reveal">
          <p class="text-muted">Quatre leaders formés à la Haute École de Travail Social de Genève, avec plus de 15 ans d'expérience cumulée dans l'accompagnement des jeunes.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<style lang="scss">
  .team {
    background: var(--color-primary);

    &__header {
      .label {
        display: inline-block;
        font-size: 12px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: var(--color-accent);
        margin-bottom: 24px;
        padding: 6px 16px;
        border: 1px solid var(--color-accent);
        border-radius: 100px;
        background: rgba(255, 223, 92, 0.1);
      }

      h2 {
        color: var(--color-white);
        
        span {
          color: var(--color-accent);
        }
      }
    }

    &__layout {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 60px;
      align-items: stretch;

      @media (max-width: 1024px) {
        grid-template-columns: 1fr;
        gap: 48px;
      }
    }

    &__image {
      &-wrapper {
        position: relative;
        border-radius: 32px;
        overflow: hidden;
        height: 100%;
        min-height: 600px;

        @media (max-width: 1024px) {
          min-height: 450px;
        }

        @media (max-width: 768px) {
          min-height: 350px;
          border-radius: 24px;
        }

        img {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          transition: transform 0.8s var(--ease-out);
        }

        &:hover img {
          transform: scale(1.03);
        }
      }

      &-overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(
          to top,
          rgba(0, 0, 0, 0.7) 0%,
          rgba(0, 0, 0, 0.2) 40%,
          rgba(0, 0, 0, 0) 100%
        );
        z-index: 1;
      }

      &-quote {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: clamp(24px, 5vw, 48px);
        z-index: 2;

        blockquote {
          font-family: var(--font-headline);
          font-size: clamp(18px, 2.5vw, 26px);
          line-height: 1.4;
          color: white;
          font-style: italic;
          margin: 0;
        }
      }
    }

    &__list {
      display: flex;
      flex-direction: column;
      gap: 0;
    }

    &__member {
      display: flex;
      align-items: center;
      gap: 24px;
      padding: 32px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.4s var(--ease-out);
      animation-delay: var(--delay);

      &:first-child {
        padding-top: 0;
      }

      &:last-of-type {
        border-bottom: none;
      }

      &:hover {
        padding-left: 16px;

        .team__member-dot {
          transform: scale(1.5);
          background: var(--color-accent);
          box-shadow: 0 0 10px var(--color-accent);
        }

        .team__member-content h3 {
          color: var(--color-accent);
        }
      }

      &-dot {
        width: 8px;
        height: 8px;
        min-width: 8px;
        border-radius: 50%;
        background: var(--color-accent);
        transition: all 0.4s var(--ease-out);
      }

      &-content {
        flex: 1;

        h3 {
          font-family: var(--font-headline);
          font-size: clamp(20px, 2.5vw, 28px);
          font-weight: 600;
          margin: 0 0 6px 0;
          color: var(--color-white);
          transition: color 0.3s var(--ease-out);
        }
      }

      &-role {
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: rgba(255, 255, 255, 0.6);
      }
    }

    &__cta {
      margin-top: 40px;
      padding: 32px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.1);

      p {
        margin: 0;
        font-size: 15px;
        line-height: 1.7;
        color: rgba(255, 255, 255, 0.8);
      }

      @media (max-width: 768px) {
        margin-top: 24px;
        padding: 24px;
      }
    }
  }
</style>
